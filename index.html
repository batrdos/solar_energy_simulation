<!DOCTYPE html>
<html>

    <head>
        <title>Калькулятор солнечной энергии</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <link rel="stylesheet" type="text/css" href="styles.css">

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzTP4k2F-PzB0cQLFpd4T2I3mJnRB5dgU&libraries=places"></script>
        <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=57c1c0c7-0650-48a1-9c47-4bf426b77bc0" type="text/javascript"></script>
        <script src="event_properties.js" type="text/javascript"></script>

    </head>

    <body>
        <h1>Онлайн калькулятор солнечной энергии</h1>

 <!--Battery calculation-->

        


<!--Solar panel selection-->
        <div class="panel-selection">
            <div style="display: flex; justify-content: space-evenly;">
                <div>
                    <p><b>Выберите тип солнечной панели:</b></p>
                    <form action = "#">
                        <label for="chooseSolarPanel">Тип солнечной панели</label>
                        <select name="solarPanels" id="solarPanels">
                            <option value="mono_60">HH-MONO-60W</option>
                            <option value="mono_200">HH-MONO-200W</option>
                            <option value="poly_60">HH-POLY-60W</option>
                            <option value="poly_200">HH-POLY-200W</option>
                            <option value="poly_300">HH-POLY-300W</option>
                            <option value="anotherPanel">Другая</option>
                        </select>
                    </form>
            
                    <br>
            
                    <label for="panelQty">Количество панелей:</label>
                    <input type="number" id="panelQty" min="0" step="1">
            
                    <p id="totalAreaPanel">Общая площадь солнечной панелеи:<span id="result-area"></span>м2</p>
    
            
                    <br>
    
                    <!-- <div class="panel-location"> -->
                    <p><b>Расположение солнечных панелеи:</b></p>
    
                    <label for="zenith">Угол наклона панелей (0 - горизонтально, 90 - вертикально):</label>
                    <input type="number" id="zenith" min="0" max="90" step="1">
                    <br>
                    <br>
    
                    <label for="azimuth">Азимут панелей (0 - север, 180 - юг):</label>
                    <input type="number" id="azimuth" min="0" max="180" step="1">
                </div>
                <div>
                    <div class="battery-setting">
                        <p><b>Расчет автомной работы от аккумуляторов:</b></p>
                        <p>Средняя нагрузка, кВт*ч/сутки:</p>
                        <label for="loadSummer">летом:</label>
                        <input type="number" id="loadSummer" min="0" step="0.1">
                        <label for="loadWinter">зимой:</label>
                        <input type="number" id="loadWinter" min="0" step="0.1">
                        <br>
                        <br>
                        <label for="batteryCapacity">Емкость аккумуляторов, Ач:</label>
                        <input type="number" id="batteryCapacity" min="0" step="1">
                        <br>
                        <br>
                        <label for="batteryVoltage">Напряжение аккумуляторов, В</label>
                        <input type="number" id="batteryVoltage" min="0" step="1">
                        <br>
                        <br>
                        <label for="dischargeDepth">Предельная глубина, %</label>
                        <input type="number" id="dischargeDepth" min="0" max="99" step="1"> 
            
                        <p>Время автономной работы:</p>
                        <p id="durationSummer">летом <span id="result-summer"></span> дней</p>
                        <p id="durationWinter">зимой <span id="result-winter"></span> дней</p>
            
            
                    </div>
                </div>
            </div>
            
            <br>
            <br>

            <label for="area">Название местности:</label>
            <input type="string" id="area" min="0" max="90" step="1">
            <br>
            <label for="region">Регион (город):</label>
            <div style="display: flex; gap:20px">
                <!-- <div style="position:relative;overflow:hidden;"><a href="https://yandex.ru/maps/162/almaty/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:0px;">Алматы</a><a href="https://yandex.ru/maps/162/almaty/?ll=76.945465%2C43.238293&utm_medium=mapframe&utm_source=maps&z=12" style="color:#eee;font-size:12px;position:absolute;top:14px;">Карта Алматы с улицами и номерами домов — Яндекс Карты</a><iframe src="https://yandex.ru/map-widget/v1/?ll=76.945465%2C43.238293&z=12" width="560" height="400" frameborder="1" allowfullscreen="true" style="position:relative;"></iframe></div>      -->
                <div id="map"></div>
                <div class="chart-container">
                    <canvas id="myChart" width="700" height="500"></canvas>
                    <table>
                        <tr id="tableMonth"></tr>
                        <tr id="tableEnergy"></tr>
                    </table>
                </div>
                
            </div>


        </div>


<!--Solar panel location-->    

        <!-- <div class="panel-location">
            <p><b>Расположение солнечных панелеи:</b></p>

            <label for="zenith">Угол наклона панелей (0 - горизонтально, 90 - вертикально):</label>
            <input type="number" id="zenith" min="0" max="90" step="1">
            <br>
            <label for="azimuth">Азимут панелей (0 - север, 180 - юг):</label>
            <input type="number" id="azimuth" min="0" max="180" step="1">
            <br>
            <label for="azimuth">Регион (город):</label>
            <div style="position:relative;overflow:hidden;"><a href="https://yandex.ru/maps/162/almaty/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:0px;">Алматы</a><a href="https://yandex.ru/maps/162/almaty/?ll=76.945465%2C43.238293&utm_medium=mapframe&utm_source=maps&z=12" style="color:#eee;font-size:12px;position:absolute;top:14px;">Карта Алматы с улицами и номерами домов — Яндекс Карты</a><iframe src="https://yandex.ru/map-widget/v1/?ll=76.945465%2C43.238293&z=12" width="560" height="400" frameborder="1" allowfullscreen="true" style="position:relative;"></iframe></div>     
        </div> -->





        <br>
        <br>
        <div>
            <button onclick="fetchSolarData()">Посчитать</button>
            <span id="errorText"></span>
        </div>

        <b><p id="averageEnergyTable"></p></b>

       
        
        <br>
        <br>


        <dialog id="dialog">
           
            <label>Введите мощность панели:
                <input name="name" id="dialog-capacity" type="number" />
            </label>
            <br>
            <button id="jsbutton">Закрыть</button>
          
        </dialog>


        <script src="script.js"></script>
    </body>
</html>
